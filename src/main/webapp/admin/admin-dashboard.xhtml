<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>EventEase Admin Dashboard</title>
    <h:outputStylesheet library="css" name="eventease.css"/>
    <h:outputStylesheet library="css" name="admin-dashboard.css"/>
    <h:outputStylesheet library="webjars" name="font-awesome/6.0.0-beta3/css/all.min.css"/>
    <style>
        .options{
            color : #bcbfc4 !important;
        }
    </style>
</h:head>

<h:body>
    <div class="dashboard-wrapper">

        <!-- Sidebar -->
        <aside class="sidebar">
            <h:graphicImage library="images" name="EventEase.png" styleClass="logo-small"/>

            <nav>
                <p:commandLink actionListener="#{adminCDI.loadPage('analytics')}"
                               update="dashboard-content"
                               styleClass="nav-item options">
                    <i class="fas fa-chart-line"></i> Analytics Dashboard
                </p:commandLink>

                <p:commandLink actionListener="#{adminCDI.loadPage('crud-management')}"
                               update="dashboard-content"
                               styleClass="nav-item options">
                    <i class="fas fa-database"></i> CRUD Management
                </p:commandLink>

                <p:commandLink actionListener="#{adminCDI.loadPage('user-report')}"
                               update="dashboard-content"
                               styleClass="nav-item options">
                    <i class="fas fa-users"></i> User Reports
                </p:commandLink>
            </nav>

            <div class="sidebar-footer">
                <h:commandLink action="#{loginBean.logout}">
                   <a styleClass="nav-item" href="/EventEase/Logout.jsf">Logout</a>
                </h:commandLink>
            </div>
        </aside>

        <!-- Main Area -->
        <main class="main-content">
            <header class="dashboard-header">
                <h1>Welcome, Admin!</h1>
                <div class="user-info">
                    <span class="username">#{sessionScope.adminUser.name}</span>
                    <i class="fas fa-user-circle"></i>
                </div>
            </header>

            <!-- Dynamic Content Loader -->
            <h:panelGroup id="dashboard-content">
                <ui:include src="#{adminCDI.activePage}" />
            </h:panelGroup>
        </main>
    </div>

</h:body>
</html>
