<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title>Booking Confirmed - EventEase</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>

        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                background-color: #0b043a !important;
                color: #F4F0F8;
                font-family: "Segoe UI", Arial, sans-serif;
                min-height: 100vh;
                display: flex;
                flex-direction: column;
            }

            .confirmation-container {
                flex: 1;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 40px 20px;
            }

            .confirmation-card {
                background: linear-gradient(135deg, rgba(200, 184, 232, 0.15), rgba(168, 155, 191, 0.15));
                backdrop-filter: blur(10px);
                border-radius: 20px;
                padding: 50px;
                box-shadow: 0 8px 30px rgba(0,0,0,0.3);
                text-align: center;
                max-width: 600px;
                width: 100%;
            }

            .success-icon {
                width: 100px;
                height: 100px;
                background: rgba(76, 175, 80, 0.2);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                margin: 0 auto 30px;
                animation: scaleIn 0.5s ease-out;
            }

            .success-icon i {
                font-size: 50px;
                color: #4CAF50;
            }

            @keyframes scaleIn {
                from {
                    transform: scale(0);
                }
                to {
                    transform: scale(1);
                }
            }

            h1 {
                font-size: 36px;
                color: #C8B8E8;
                margin-bottom: 15px;
            }

            .booking-id {
                font-size: 18px;
                color: #A89BBF;
                margin-bottom: 30px;
            }

            .booking-id strong {
                color: #C8B8E8;
            }

            .message {
                font-size: 16px;
                line-height: 1.6;
                color: #E0D5F0;
                margin-bottom: 40px;
            }

            .action-buttons {
                display: flex;
                gap: 15px;
                justify-content: center;
                flex-wrap: wrap;
            }

            .btn {
                padding: 14px 30px;
                border-radius: 10px;
                font-size: 16px;
                font-weight: bold;
                cursor: pointer;
                transition: all 0.3s;
                text-decoration: none;
                display: inline-flex;
                align-items: center;
                gap: 10px;
            }

            .btn-primary {
                background: linear-gradient(135deg, #A89BBF, #8B7BA8) !important;
                color: #F4F0F8 !important;
                border: none !important;
            }

            .btn-primary:hover {
                transform: translateY(-2px);
                box-shadow: 0 6px 20px rgba(168, 155, 191, 0.6);
            }

            .btn-secondary {
                background: rgba(168, 155, 191, 0.2);
                color: #F4F0F8;
                border: 1px solid #A89BBF;
                text-decoration: none;
            }

            .btn-secondary:hover {
                background: rgba(168, 155, 191, 0.35);
                border-color: #C8B8E8;
            }

            @media (max-width: 768px) {
                .confirmation-card {
                    padding: 30px 20px;
                }

                h1 {
                    font-size: 28px;
                }

                .action-buttons {
                    flex-direction: column;
                }

                .btn {
                    width: 100%;
                    justify-content: center;
                }
            }
        </style>
    </h:head>

    <h:body>
        <div class="confirmation-container">
            <div class="confirmation-card">
                <div class="success-icon">
                    <i class="fas fa-check"></i>
                </div>

                <h1>Booking Confirmed!</h1>

                <p class="booking-id">
                    Booking ID: <strong>#{param.bookingId}</strong>
                </p>

                <p class="message">
                    Thank you for your booking! Your payment has been processed successfully. 
                    Download your tickets below to access the event.
                </p>

                <div class="action-buttons">
                    <h:form>
                        <p:commandButton value="Download Ticket(s)" 
                                         styleClass="btn btn-primary"
                                         icon="fas fa-download"
                                         actionListener="#{ticketDownloadBean.downloadTickets(param.bookingId)}"
                                         ajax="false"/>
                    </h:form>

                    <a href="my-bookings.jsf" class="btn btn-secondary">
                        <i class="fas fa-ticket-alt"></i>
                        View My Bookings
                    </a>

                    <a href="Home.jsf" class="btn btn-secondary">
                        <i class="fas fa-home"></i>
                        Back to Home
                    </a>
                </div>
            </div>
        </div>
    </h:body>
</html>